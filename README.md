# Smooth-Manifold-Projection-Tool
 This image post-processing tool enables the extraction of surface information from z-stack recordings

 Briefly, the code extracts the z-position of the maximal intensity of a reference 'surface' marker (here the plasma membrane marker LTi6B-GFP or mCHERRY-TUA5 labelling cortical microtubules) for each x-y-pixel of the image stack. Both markers localize predominantly to the PM or the cell cortex, respectively, and thus represent reliable reference markers to extract the ‘true’ (cortical) cell surface. Applying the in-built MATLAB functions smooth.m and envelope.m to the (three-dimensional) distribution of z-positions of maximal intensities enabled the reconstruction of a smoothened, two-dimensional manifold corresponding to the cell surface. This manifold was used to first extract the intensity of the reference marker directly at the cell surface, and secondly to apply the same extraction map on a stack containing the target marker (here GFP-CESA3). This approach, yielding the ‘true’ PM and cortical MT signals, respectively, coupled to the ‘true’ GFP-CESA3 signals (originating from the same position in the recorded stack), largely suppressed deep-tissue signals, i.e., the bright and mobile Golgi stacks and cytoplasmic mCHERRY-TUA5 fluorescence. The code additionally includes the possibility of performing surface-based maximum-intensity projections. Here, a maximum-intensity projection is performed that starts at the determined cell surface progressing a short distance (typically 3 pixels or approx. 1 µm) into the cell interior. Such projections yielded superior MT, and particularly improved CESA3, information and signal-to-noise at the cell surface as compared to widely used whole-stack maximum-intensity projections. Projected images were further processed to reduce background using the in-built function ‘subtract background’ (rolling ball radius between 5 – 15 pixels) of the Fiji software. In the projected time-series, minor drift corrections were performed using the ‘MultiStackReg’ plugin.
